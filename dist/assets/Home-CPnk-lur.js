import{c as g,f as x,e as f,a as o,j as e,m as i,S as p,B as y,g as N,i as j,k}from"./index-B0oQ6skN.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],w=g("Rocket",v);function b(){const{enrolledCourses:t,setEnrolledCourses:r}=x(),l=f(),[s,c]=o.useState(!0),[d,u]=o.useState(null);o.useEffect(()=>{(async()=>{c(!0),u(null);try{const n=await N();r(n)}catch(n){console.error("Failed to fetch courses:",n),u("Unable to load courses. Please try again later.")}finally{c(!1)}})()},[r]);const h=a=>{j.set("selectedCourseId",a),l("/courseDashboard")};return e.jsxs("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"mb-6 text-2xl font-bold text-darkBg dark:text-white sm:text-3xl",children:"Your Enrolled Courses"}),e.jsx(i.div,{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut",staggerChildren:.2},children:s?Array.from({length:4}).map((a,n)=>e.jsx(p,{className:"h-96 w-full"},n)):d?e.jsxs("div",{className:"col-span-full text-center",children:[e.jsx("p",{className:"text-lg text-red-600 dark:text-red-400",children:d}),e.jsx("button",{className:"mt-4 rounded-lg bg-[#0D8267] px-6 py-2 text-white hover:bg-[#0F9B7C]",onClick:()=>window.location.reload(),children:"Retry"})]}):t&&t.length>0?t.map(a=>e.jsxs(i.div,{className:"bg-white dark:bg-darkSecondary rounded-md shadow-sm border-0 overflow-hidden dark:border-0 dark:border-darkPrimary",whileHover:{scale:1.03},whileTap:{scale:.97},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},whileInView:{y:[0,-2,0],transition:{repeat:1/0,duration:3,ease:"easeInOut"}},children:[e.jsx(i.div,{className:"relative w-full h-72 sm:h-80 md:h-96 lg:h-80",initial:{opacity:.8,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},children:e.jsx("img",{src:a.courseThumbnail,alt:a.courseName,className:"w-full h-full object-cover rounded-t-lg"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-2xl font-semibold text-darkBg dark:text-white",children:a.courseName}),e.jsxs(y,{size:"default",className:"text-white cursor-pointer mt-4",onClick:()=>h(a.id),children:["Get Started ",e.jsx(w,{className:"ml-3"})]})]})]},a.id)):e.jsxs("div",{className:"col-span-full py-12 text-center",children:[e.jsx("p",{className:"mb-4 text-lg text-gray-600 dark:text-gray-400",children:"No enrolled courses yet? Start your learning journey!"}),e.jsx(i.button,{className:"rounded-lg bg-[#0D8267] px-6 py-2.5 text-white hover:bg-[#0F9B7C]",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l("/explore"),children:"Explore Courses"})]})})]})}const m=()=>{const t=new Date().getHours();return t>=5&&t<12?"Good Morning! ":t>=12&&t<17?"Good Afternoon! ":t>=17&&t<21?"Good Evening! ":"Good Night!"};function C({name:t}){const[r,l]=o.useState(m());return o.useEffect(()=>{const s=setInterval(()=>{l(m())},36e5);return()=>clearInterval(s)},[]),e.jsxs("div",{className:"text-lg md:text-3xl lg:text-4xl font-semibold text-darkPrimary dark:text-white p-4 text-left mt-3",children:[r," ",e.jsx("span",{className:"text-primary font-bold",children:t})]})}function E(){const{studentName:t,setStudentName:r}=x();return o.useEffect(()=>{(async()=>{try{const s=await k();s!=null&&s.name&&r(s.name)}catch(s){console.error("Failed to fetch user profile:",s)}})()},[r]),e.jsxs("div",{className:"flex flex-col items-left min-h-screen",children:[e.jsx(C,{name:t||"Guest"}),e.jsx(b,{})]})}export{E as default};
